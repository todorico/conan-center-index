--- ACVDConfig.cmake.in
+++ ACVDConfig.cmake.in
@@ -2,22 +2,21 @@

 # Compute paths
 get_filename_component( ACVD_CMAKE_DIR "${CMAKE_CURRENT_LIST_FILE}" PATH )
-set( ACVD_INCLUDE_DIRS "@CONF_INCLUDE_DIRS@" )

 # Our library dependencies (contains definitions for IMPORTED targets)
 if(NOT TARGET ACVD_core AND NOT ACVD_BINARY_DIR)
   include("${ACVD_CMAKE_DIR}/ACVDTargets.cmake")
 endif()

-set( BUILD_SHARED_LIBS @BUILD_SHARED_LIBS@ )
-set( BUILD_DISCRETEREMESHING @BUILD_DISCRETEREMESHING@ )
-set( BUILD_VOLUMEPROCESSING @BUILD_VOLUMEPROCESSING@ )
-set( USE_MULTITHREADING @USE_MULTITHREADING@ )
-set( USE_LLOYDCLUSTERING @USE_LLOYDCLUSTERING@ )
+set( ACVD_LIBRARIES "@ACVD_LIBRARIES@" )
+set( ACVD_INCLUDE_DIRS "@CONF_INCLUDE_DIRS@" )
+
+find_package( VTK REQUIRED )

-set( VTK_DIR @VTK_DIR@ )
-find_package( VTK )
+if( NOT TARGET ACVD::ACVD )

-set( ACVD_LIBRARIES "@ACVD_LIBRARIES@" )
+  add_library( ACVD::ACVD INTERFACE IMPORTED )
+  set_property( TARGET ACVD::ACVD APPEND PROPERTY INTERFACE_LINK_LIBRARIES ${ACVD_LIBRARIES} )
+  set_property( TARGET ACVD::ACVD APPEND PROPERTY INTERFACE_INCLUDE_DIRECTORIES ${ACVD_INCLUDE_DIRS} )

-include_directories( ${ACVD_INCLUDE_DIRS} )
+endif()
